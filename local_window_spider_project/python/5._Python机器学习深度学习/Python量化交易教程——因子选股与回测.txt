b'Python\xe9\x87\x8f\xe5\x8c\x96\xe4\xba\xa4\xe6\x98\x93\xe6\x95\x99\xe7\xa8\x8b\xe2\x80\x94\xe2\x80\x94\xe5\x9b\xa0\xe5\xad\x90\xe9\x80\x89\xe8\x82\xa1\xe4\xb8\x8e\xe5\x9b\x9e\xe6\xb5\x8b'  http://mmbiz.qpic.cn/mmbiz_gif/LiaGhAsRNttuwkBZWSHGTqyHzibERgtBna0j9acdIUjfRR4l57QA5aiblcVS3CWGMzUvHECzyShygPx7jI5KuO3oQ/0?
因子选股模型是应用最为广泛的一种选股模型，基本原理是采用某个或某些因子作为选股的标准，满足这些因子的股票则被买入，不满足的则卖出。
因子选股模型为什么适用？举一个简单的例子：如果有一批人参加马拉松，想知道哪些人能获得不错的成绩，只需在跑前做一个身体测试即可。测试可以用一个或多个指标。对测试的结果进行排名，排名靠前的运动员获得好成绩的可能性就比较大。因子选股模型的原理与此类似，可以利用某些指标（因子）选择未来可能表现较好的股票。
常见因子从三方面：1）公司层面因子；2）外部环境因子；3）市场表现因子。
公司层面因子来自于公司的微观结构，与公司的生产经营息息相关，一般来自公司的财务指标，反映了公司的盈利、运营、债务和成长状况。这些因子主要有：1）价值类因子，如PE、PB；2）成长类因子，如ROE、净利润增长率；3）规模类因子，如净利润、营业收入；4）情绪类因子，如预测未来12个月的利润增长率；5）质量类因子，如资产负债率、应收账款周转率。
政治法律、宏观经济、社会习俗和技术发展等外部环境对一个行业和企业来说都是非常重要的。比较重要并且容易量化的外部环境因子主要是1）宏观环境因子，如经济增长率、利率等；2）行业环境，如行业集中度等。
市场表现因子主要体现的是股票在交易过程中的价格和交易量。这些因子主要有动量和反转类因子、资金流向和各种技术类指标等。
因子选股模型想法比较简单，几乎用不到特别复杂的数学模型。如果从数学的角度来看，因子选股模型仅仅是一个从因子到资金曲线的映射：
f(factors，parameters)=equity
其中f表示交易系统（线性或非线性），实际建模时可以用回归法或打分法进行简化处理。Factors是我们筛选出来的一些有效因子，如果这些因子有信息重叠，可以采用多元统计中的主成分分析或因子分析进行降维处理。Parameters是建模时遇到的各种参数，它们包括因子的权重、观察时间长度和持有时间长度等。Equity是资金曲线，它反映我们账户随时间的变化情况。通过对资金曲线equity的一些再处理，就可以得到一些评价指标（如年化收益率、年化夏普比率和最大回撤等），通过这些指标可以来评价该投资策略的效果。
从上面的模型可以可以看出，因子选股模型最重要的有两方面：一个是有效因子的选择，另一个是因子参数的选择。例如到底是PE有效还是ROE有效；到底是采用1个月做调仓周期还是3个月做调仓周期。这些因子和参数的获取只能通过历史数据的回测来获得。
筛选多因子的步骤可以从
http://mmbiz.qpic.cn/mmbiz_png/LiaGhAsRNtttYBOb2yI7ECHx6clyJKIeguibdKpgwVHAvEXdDKI2ia67j9xADz0m85icnE4jIRppiaYcyTLMA0g5w1Q/0?wx_fmt=png
利用量化计算的因子从成百上千的股票中进行快速筛选，帮助投资者从海量的数据中快速确定符合要求的目标，以下我们以量化因子计算过程的实例来展示如何利用pandas处理数据。
首先导入一些外部模块：
    